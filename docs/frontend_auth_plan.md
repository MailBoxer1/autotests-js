# План по улучшению фронтенда (авторизация и регистрация)

## 1. Глобальное состояние

- Хранить `isAuthenticated` и `user` в `App.vue` или глобальном сторе
- Загружать профиль при старте приложения, если есть токен

## 2. Отображение UI

- Если пользователь авторизован — показывать email и кнопку "Выйти"
- Если не авторизован — показывать "Войти" и "Регистрация"

## 3. Вход пользователя

- При успешном логине:
  - Сохранять токен
  - Загружать профиль (`/api/profile`)
  - Обновлять UI

## 4. Регистрация пользователя

- При успешной регистрации **автоматически выполнять логин**:
  - Получать токен сразу в ответе на регистрацию **или**
  - Сразу после регистрации отправлять запрос на логин
  - Сохранять токен
  - Загружать профиль
  - Обновлять UI

## 5. Выход пользователя

- Удалять токен
- Сбрасывать профиль и статус
- Обновлять UI

## 6. Итог

- Пользователь сразу авторизован после регистрации
- UI всегда актуален
- Токен хранится в `localStorage` и используется для API-запросов

---

# План по backend (JWT и сессии)

## 1. Генерация токенов

- При каждом логине **генерировать уникальный JWT-токен**
- Не использовать один и тот же токен для всех сессий пользователя

## 2. Хранение сессий (опционально)

- Можно хранить активные токены в базе для возможности их отзыва
- Или просто генерировать разные токены без хранения

## 3. Итог

- У одного пользователя может быть несколько активных токенов (разные устройства, браузеры)
- Повышается безопасность и гибкость системы
