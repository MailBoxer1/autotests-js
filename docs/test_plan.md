# План по добавлению автотестов для проекта

---

## Backend (Node.js + Express + SQLite)

### Интеграционные тесты API

- Регистрация пользователя
  - [x] Успешная регистрация
  - [x] Ошибка при повторной регистрации с тем же email
  - [x] Ошибка при коротком пароле
- Логин пользователя
  - [x] Успешный логин (получение токена)
  - [x] Ошибка при неверном пароле
  - [x] Ошибка при несуществующем email
- Проверка защищённых маршрутов
  - [x] Доступ с валидным токеном
  - [x] Ошибка без токена
  - [x] Ошибка с невалидным токеном
- Профиль пользователя
  - [x] Получение профиля по токену
- Публичные маршруты
  - [x] `/health`
  - [x] `/items`, `/posts`, `/comments`, `/messages`

### Юнит-тесты

- [x] Функции работы с базой (`getUserByEmail`, `createUser`)
- [x] Middleware `authMiddleware`
- [x] Генерация токена

---

## Frontend (Vue.js)

### Юнит-тесты компонентов

- `AuthModal.vue`
  - [x] Ввод данных, переключение вкладок
  - [ ] Отправка запросов, обработка ошибок
  - [ ] Сохраняет ли токен
- `Header.vue`
  - [x] Отображение кнопок в зависимости от авторизации
  - [ ] Срабатывание выхода
- `App.vue`
  - [ ] Загрузка профиля при старте
  - [ ] Передача пропсов

### Интеграционные тесты

- [ ] Поток регистрации + автоматический логин
- [ ] Поток логина + отображение профиля
- [ ] Поток выхода + обновление UI

### E2E тесты (Cypress, Playwright)

- [ ] Регистрация
- [ ] Автоматический вход
- [ ] Проверка профиля
- [ ] Выход
- [ ] Попытка доступа к защищённым маршрутам без токена

---

## Следующие шаги

1. Настроить окружение для тестирования (Vitest, Jest, Cypress и т.д.)
2. Добавить интеграционные тесты backend
3. Добавить юнит-тесты backend
4. Добавить юнит-тесты frontend
5. Добавить интеграционные тесты frontend
6. Добавить E2E тесты
